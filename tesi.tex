% LuaLatex

\documentclass[LaM, binding=1.8cm]{sapthesis}

\usepackage{fontspec}
\usepackage{microtype}
\usepackage[nodisplayskipstretch]{setspace}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{mathtools}
\usepackage{wasysym}
\usepackage{comment}
\usepackage{enumitem}
\usepackage{tikz}
\usepackage{subfig}
\usepackage{pgfplots}
\usepackage{titlesec}
\usepackage{varioref}
\usepackage[noprefix,refpage]{nomencl}
%\usepackage[color=orange!70!white]{todonotes}
\usepackage{biblatex}
\usepackage[hidelinks]{hyperref}

% Bibliography
\addbibresource{bibliography.bib}

% Sections in new pages
\newcommand{\sectionbreak}{\clearpage}

% Math aliases
\DeclarePairedDelimiter{\abs}{\lvert}{\rvert}
\DeclarePairedDelimiter{\norm}{\lVert}{\rVert}
\DeclareMathOperator*{\argmax}{arg\,max}
\DeclareMathOperator*{\argmin}{arg\,min}
\newcommand{\setSym}[1]{\mathcal{#1}}
\newcommand{\ltl}{$\text{LTL}_f$}
\newcommand{\ldl}{$\text{LDL}_f$}
\newcommand{\re}{$\text{RE}_f$}
\newcommand{\until}{\mathcal{U}}
\newcommand{\eventually}{\lozenge}
\newcommand{\always}{\square}
\newcommand{\lnext}{\Circle}
\renewcommand{\lnot}{\neg}
\newcommand{\const}[1]{\text{\textit{#1}}}
\newcommand{\R}{\mathbb{R}}
\newcommand{\N}{\mathbb{N}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\B}{\mathbb{B}}
\newcommand{\E}{\mathbb{E}}
\newcommand{\true}{\const{true}}
\newcommand{\false}{\const{false}}
\newcommand{\set}[1]{\{#1\}}
\newcommand{\given}{\mid}
\newcommand{\eps}{$\epsilon$}  % eps in text
\newcommand{\ldiamond}[1]{\langle\, {#1} \,\rangle}
\newcommand{\lbox}[1]{[\, {#1} \,]}
\newcommand{\mathiff}{\quad \text{iff} \quad}
\newcommand{\mathand}{\quad \text{and} \quad}
\newcommand{\mathor}{\quad \text{or} \quad}
\newcommand{\lboolsetplus}[1]{\mathcal{B}^+(#1)}
\newcommand{\relu}{ReLU}

\newcommand{\code}{\texttt}
\newcommand{\params}{\theta}
\newcommand{\est}[1]{\hat{#1}}
\newcommand{\optimal}[1]{{#1}_*}
\newcommand{\fluents}{\setSym{F}}
\newcommand{\fluent}{p}
\newcommand{\formula}{\varphi}
\newcommand{\propformula}{\phi}
\newcommand{\trace}{\pi}
\newcommand{\resym}{\rho}
\newcommand{\modelsym}{\setSym{M}}
\newcommand{\langsym}{\setSym{L}}
\newcommand{\ltt}{\const{tt}}
\newcommand{\lff}{\const{ff}}
\newcommand{\discount}{\gamma}
\newcommand{\policy}{\rho}
\newcommand{\stateS}{S}  % Don't change, because s_i won't be updated
\newcommand{\obsS}{\Omega}
\newcommand{\group}[1]{^{(#1)}}
\newcommand{\lend}{\const{End}}
\newcommand{\llast}{\const{Last}}
\newcommand{\automa}{\mathcal{A}}
\newcommand{\nmrdpS}{\mathcal{N}}
\newcommand{\mdpS}{\mathcal{M}}
\newcommand{\highlevelS}{L}
\newcommand{\convlayer}[3]{Conv(#1, #2, #3)} % Abbreviation for
	% Convolutional layer. Params: n filters, size, stride
\newcommand{\denselayer}[1]{Dense(#1)}
\newcommand{\slicelayer}[1]{Slice(#1)}
\newcommand{\constraintS}{\psi}
% Geometries
\newcommand{\boxstart}{(0.4625, 0.3762) rectangle (0.5437, 0.4143)}
\newcommand{\boxrope}{(0.6813, 0.5524) rectangle (0.725, 0.6286)}
\newcommand{\boxblueright}{(0.2, 0.4143) rectangle (0.95, 0.4429)}
\newcommand{\boxpaddleleft}{(0.05, 0.8857) rectangle +(0.2, 0.0476)}

% TikZ
\usetikzlibrary{arrows}
\usetikzlibrary{arrows.spaced}
\usetikzlibrary{fit}
\usetikzlibrary{positioning}
\usetikzlibrary{calc}
\usetikzlibrary{graphs}
\usetikzlibrary{graphs.standard}
\usetikzlibrary{matrix}
\usetikzlibrary{intersections}
\usetikzlibrary{shapes.geometric}
\usetikzlibrary{decorations.pathreplacing}
\usetikzlibrary{patterns}
\usetikzlibrary{quotes}
\usetikzlibrary{graphdrawing}

\pgfdeclarelayer{below}
\pgfdeclarelayer{beloww}
\pgfsetlayers{beloww,below,main}

\usegdlibrary{layered,trees}

\tikzset{
	>=stealth',
	ampersand replacement=\&,
	every node/.style={align=center},
	%
	block/.style={
		rounded corners=4pt, draw, fill=white, inner sep=6pt, outer sep=1pt},
	image/.style={inner sep=0pt, outer sep=3pt},
	region box/.style={draw=orange, semithick},
	dot/.style={fill, circle, inner sep=0.7pt},
	node/.style={draw, fill=white, circle, semithick, inner sep=0pt, minimum
		size=1.7ex},
	%
	flow/.style={->, thick, >=spaced stealth'},
	arrow/.style={->, semithick},
	pin line/.style={-, very thin, draw=gray},
	%
	accept/.style={double},
	reject/.style={fill=lightgray},
	backward/.style={bend #1}, backward/.default=right,
	init path/.style={
		->, decoration={snake, amplitude=0.2mm, segment length=2mm}, decorate},
	self loop right/.style={to path={
		.. controls +(-20:1) and +(20:1) .. (\tikztotarget) \tikztonodes}},
	self loop above/.style={to path={
		.. controls +(70:1) and +(110:1) .. (\tikztotarget) \tikztonodes}},
	self loop left/.style={to path={
		.. controls +(160:1) and +(200:1) .. (\tikztotarget) \tikztonodes}},
	self loop below/.style={to path={
		.. controls +(250:1) and +(290:1) .. (\tikztotarget) \tikztonodes}},
}
% Automaton graph style
\pgfkeys{
    /tikz/graphs/automaton/.style={
        nodes={draw, circle},
        edge quotes={font={\small}, inner ysep=0.5ex, inner xsep=0.2ex,
					auto=right, pos=0.5}
    }
}

% pgfplots
\pgfplotsset{
	compat=1.16,
	every axis/.style={font=\scriptsize},
}

% Colors
\newcommand{\encodingColor}{orange!70!white}
\newcommand{\boolsColor}{blue!70!white}
\newcommand{\fluentsColor}{gray}

% Teoremi?
\theoremstyle{plain}
\newtheorem{theorem}{Theorem}
\theoremstyle{definition}
\newtheorem{example}{Example}
\newtheorem{definition}{Definition}

% TODO: exam date and examiner infos

% Line space
\onehalfspacing

% Nomenclature
\makenomenclature

% Pdf info
\hypersetup{pdftitle={Tesi Magistrale Roberto Cipollone},pdfauthor={Roberto
Cipollone}}

% Thesis info
\title{Fluents valuation in Deep Reinforcement Learning agents for
non-Markovian rewards}% TODO: title
\author{Roberto Cipollone}
\IDnumber{1528014}
\course{Artificial Intelligence and Robotics}
\courseorganizer{Facoltà di Ingegneria dell’Informazione, Informatica e
Statistica}
\submitdate{2019/2020}
\copyyear{2020}
\advisor{Prof. Giuseppe De Giacomo}
\authoremail{cipollone.rt@gmail.com}


\begin{document}

% TODO: abstract
% TODO: dedication?

% Title pages
\frontmatter
\maketitle
\tableofcontents
\printnomenclature[2cm]

% Chapters
\mainmatter


\include{chapters/ch_intro}
\include{chapters/ch_logics}
\include{chapters/ch_rl}
\include{chapters/ch_fluents}
\include{chapters/ch_atarieyes}
\include{chapters/ch_experiments}
\include{chapters/ch_conclusions}

% Backmatter
\backmatter
\printbibliography

\end{document}
